(()=>{var t={n:o=>{var n=o&&o.__esModule?()=>o.default:()=>o;return t.d(n,{a:n}),n},d:(o,n)=>{for(var e in n)t.o(n,e)&&!t.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:n[e]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};(()=>{"use strict";t.r(o),t.d(o,{extend:()=>d});const n=flarum.core.compat["common/app"];t.n(n)().initializers.add("ghostchu-openai-content-audit-common",function(){console.log("[ghostchu/openai-content-audit] Hello, forum and admin!")});const e=flarum.core.compat["forum/app"];var a=t.n(e);const r=flarum.core.compat["common/extend"],i=flarum.core.compat["forum/components/Post"];var c=t.n(i);const u=flarum.core.compat["forum/components/NotificationGrid"];var s=t.n(u);function f(t,o){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,o){return t.__proto__=o,t},f(t,o)}const l=flarum.core.compat["forum/components/Notification"];var p=function(t){function o(){return t.apply(this,arguments)||this}var n,e;e=t,(n=o).prototype=Object.create(e.prototype),n.prototype.constructor=n,f(n,e);var r=o.prototype;return r.icon=function(){return"fas fa-exclamation-triangle"},r.href=function(){return a().route("index")},r.content=function(){return a().translator.trans("ghostchu-openai-content-audit.forum.notifications.content_violation_text")},r.excerpt=function(){var t=this.attrs.notification.content();if(t){var o=t.conclusion||"",n=t.contentType||"",e=t.confidence?(100*t.confidence).toFixed(1)+"%":"",r="";if(n){var i="ghostchu-openai-content-audit.email.content_type."+n;r+=a().translator.trans(i,{},n)+": "}return o&&(r+=o),e&&(r+=" ("+e+")"),r.length>200?r.substring(0,200)+"...":r}return""},o}(t.n(l)());const d=[].concat([]);a().initializers.add("ghostchu-openai-content-audit",function(){console.log("[ghostchu/openai-content-audit] Hello, forum!"),a().notificationComponents.contentViolation=p,(0,r.extend)(s().prototype,"notificationTypes",function(t){t.add("contentViolation",{name:"contentViolation",icon:"fas fa-exclamation-triangle",label:a().translator.trans("ghostchu-openai-content-audit.forum.settings.notify_content_violation_label")})}),(0,r.override)(c().prototype,"flagReason",function(t,o){if("openai-audit"===o.type()){var n=o.reason(),e=o.reasonDetail();return[n||a().translator.trans("ghostchu-openai-content-audit.forum.flag.default_reason"),e&&m("span",{className:"Post-flagged-detail"},e)]}return t(o)})})})(),module.exports=o})();
//# sourceMappingURL=forum.js.map